C51 COMPILER V9.52.0.0   BEEP                                                              10/05/2019 22:48:01 PAGE 1   


C51 COMPILER V9.52.0.0, COMPILATION OF MODULE BEEP
OBJECT MODULE PLACED IN .\obj\beep.obj
COMPILER INVOKED BY: d:\Keil\C51\BIN\C51.EXE src\beep.c BROWSE INCDIR(.\inc;.\lib) DEBUG OBJECTEXTEND PRINT(.\list\beep.
                    -lst) TABS(2) OBJECT(.\obj\beep.obj)

line level    source

   1          
   2          /*
   3           * beep.c
   4           * Kit Shaw
   5           * 2019.10.5
   6           */
   7           
   8          #include "SC92F844X_C.h"
   9          #include "beep.h"
  10          
  11          unsigned char xdata  beep_count;
  12          
  13          void beep_init(void)
  14          {
  15   1        P0CON &= ~(1<<7);  //P07输出模式
  16   1        P0CON |= 1<<3;  //03输出
  17   1        P03 = 0;
  18   1        P0PH |= (1<<7);
  19   1        set_beep_count(20);
  20   1      }
  21          
  22          void beep_task(void)
  23          //100ms调用一次
  24          {
  25   1        //BEEP_PIN = 0;
  26   1        //return;
  27   1        if(beep_count>0)
  28   1        {
  29   2          BEEP_PIN = 1;
  30   2          beep_count--;
  31   2        }
  32   1        else
  33   1        {
  34   2          BEEP_PIN = 0;
  35   2        }
  36   1      }
  37          
  38          void set_beep_count(unsigned char beep_count_val)
  39          {
  40   1        beep_count = beep_count_val;
  41   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     40    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =      1    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
