C51 COMPILER V9.52.0.0   LED                                                               10/01/2019 18:01:44 PAGE 1   


C51 COMPILER V9.52.0.0, COMPILATION OF MODULE LED
OBJECT MODULE PLACED IN .\obj\led.obj
COMPILER INVOKED BY: d:\Keil\C51\BIN\C51.EXE src\led.c BROWSE INCDIR(.\inc;.\lib) DEBUG OBJECTEXTEND PRINT(.\list\led.ls
                    -t) TABS(2) OBJECT(.\obj\led.obj)

line level    source

   1          
   2          /*
   3           *  led.c
   4           *  Kit Shaw
   5           *  2019/10/01
   6           */
   7           
   8          
   9          #include "led.h"
  10          #include "SC92F844X_C.h"
  11          #include "data_type.h"
  12          #include "fan.h"
  13          
  14          unsigned char xdata LEDRAM[30] _at_ 0x700;
  15          
  16          void led_init(void)
  17          { 
  18   1        P5CON |= ((1<<0) | (1<<1)| (1<<2)); //
  19   1        P5 &= ~((1<<0) | (1<<1)| (1<<2)); 
  20   1        LED_RED = 1;
  21   1        LED_GREEN = 1;
  22   1        LED_BLUE = 0; 
  23   1        
  24   1        DDRCON |= 0xef;
  25   1        //IOHCON0 = 0xc0;
  26   1        //IOHCON1 = 0x00;
  27   1        
  28   1        //P1CON |= (1<<7);
  29   1        P1VO |=  (1<<7);  //打开P17口的显示驱动输出功能
  30   1        P2VO |= 0xff;     //P2口都用做led的显示
  31   1        P0VO |= (1<<1) | (1<<0);  //P11, P01
  32   1        //s11-s21
  33   1        P3VO |= (1<<3) | (1<<4) |(1<<5) | (1<<6) | (1<<7);  //P33-P37LED驱动
  34   1        //c3, c4, c5, c6, c7  
  35   1        OTCON = 0x00;
  36   1        LEDRAM[11] = 0x08;  // 童锁图标
  37   1        LEDRAM[12] = 0x18;  //0x10 -P2.5  0x08-8H
  38   1        LEDRAM[13] = 0x18;  //0x10 - 高, 0x08 - 4H
  39   1        LEDRAM[14] = 0x78;  //0x10 - 中, 0x08 - 2H  
  40   1        //0x80 - 数码管百位的小数点,  0x40 十位, 0x20 个位
  41   1        LEDRAM[15] = 0xf8;  //0x10 - 低, 0x08 - 1H
  42   1        //数码管g段
  43   1        LEDRAM[16] = 0xf8;  //0x10 - ION图标, 0x08香薰按键,   
  44   1        //数码管F段
  45   1        LEDRAM[17] = 0xf8;   //0x10- 高速 和 0x08-负离子按键
  46   1        //数码管E段
  47   1        LEDRAM[18] = 0xf8;   //0x10- 中速 , 0x08 - 模式按键
  48   1        //数码管D段
  49   1        LEDRAM[19] = 0xf8;  //低速 ,  童锁按键
  50   1        //数码管C段
  51   1        LEDRAM[20] = 0xf8;  //智能, 定时按键
  52   1        //数码管B段
  53   1        LEDRAM[21] = 0xf8;  //滤网, 电源按键
  54   1        //数码管A段
C51 COMPILER V9.52.0.0   LED                                                               10/01/2019 18:01:44 PAGE 2   

  55   1      }
  56          
  57          void led_task(void)
  58          //1ms调用一次
  59          {
  60   1          
  61   1      }
  62          
  63          
  64          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     64    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
